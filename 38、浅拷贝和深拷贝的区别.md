# 浅拷贝和深拷贝的区别

## 疑问：

1. 什么叫浅拷贝，什么叫深拷贝
2. 什么情况下用浅拷贝，什么情况下用深拷贝？
3. 误用带来的风险是什么？


一、浅拷贝：

对象A里面有指针，直接把对象A赋值给对象B或者用A对象直接构建B对象，调用默认赋值操作符或者默认构造函数

T A=T B   或者 T A = new T(B)

二、深拷贝：

重写拷贝构造函数，在拷贝构造函数中NEW class T中的指针并且赋值

重载赋值操作符，赋值操作符中NEW class T中的指针并且赋值

三、什么情况下用浅拷贝，什么情况下用深拷贝

如果类中属性没有指针时，可以用浅拷贝

如果类中的属性有指针时，必须用深拷贝

四、误用带来的风险：

如果类中的属性有指针，但是用了浅拷贝，这样导致对象A和对象B同时指向属性的同一地址，导致析构的时候析构两遍，导致死机


五、总结：

浅拷贝只拷贝指针地址，两个指针指向的是同一块内存空间

深拷贝不仅拷贝指针地址，同时拷贝指向的内容，两个指针指向不同的内存空间
